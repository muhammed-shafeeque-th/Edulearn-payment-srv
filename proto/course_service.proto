syntax = "proto3";

package course_service;


import "course/types/course.proto";
import "course/types/section.proto";
import "course/types/lesson.proto";
import "course/types/quiz.proto";
import "course/types/enrollment.proto";
import "course/types/progress.proto";
import "course/types/review.proto";
import "course/types/certificate.proto";

service CourseService {
  // Course CRUD
  rpc CreateCourse(course.CreateCourseRequest) returns (course.CourseResponse);
  rpc GetCourse(course.GetCourseRequest) returns (course.CourseResponse);
  rpc GetCourseBySlug(course.GetCourseBySlugRequest) returns (course.CourseResponse);
  rpc GetCourses(course.GetCoursesRequest) returns (course.CoursesListResponse);
  rpc UpdateCourse(course.UpdateCourseRequest) returns (course.CourseResponse);
  rpc PublishCourse(course.PublishCourseRequest) returns (course.CourseResponse);
  rpc UnPublishCourse(course.UnPublishCourseRequest) returns (course.CourseResponse);
  rpc DeleteCourse(course.DeleteCourseRequest) returns (course.DeleteCourseResponse);
  rpc GetCoursesByInstructor(course.GetCoursesByInstructorRequest) returns (course.CoursesListResponse);
  rpc GetEnrolledCourses(course.GetEnrolledCoursesRequest) returns (course.CoursesListResponse);
  rpc GetCoursesByIds(course.GetCoursesByIdsRequest) returns (course.GetCoursesByIdsResponse);

  // Section CRUD
  rpc CreateSection(course.section.CreateSectionRequest) returns (course.section.SectionResponse);
  rpc GetSection(course.section.GetSectionRequest) returns (course.section.SectionResponse);
  rpc UpdateSection(course.section.UpdateSectionRequest) returns (course.section.SectionResponse);
  rpc DeleteSection(course.section.DeleteSectionRequest) returns (course.section.DeleteSectionResponse);
  rpc GetSectionsByCourse(course.section.GetSectionsByCourseRequest) returns (course.section.SectionsResponse);

  // Lesson CRUD
  rpc CreateLesson(course.lesson.CreateLessonRequest) returns (course.lesson.LessonResponse);
  rpc GetLesson(course.lesson.GetLessonRequest) returns (course.lesson.LessonResponse);
  rpc UpdateLesson(course.lesson.UpdateLessonRequest) returns (course.lesson.LessonResponse);
  rpc DeleteLesson(course.lesson.DeleteLessonRequest) returns (course.lesson.DeleteLessonResponse);
  rpc GetLessonsBySection(course.lesson.GetLessonsBySectionRequest) returns (course.lesson.LessonsResponse);

  // Quiz CRUD
  rpc CreateQuiz(course.quiz.CreateQuizRequest) returns (course.quiz.QuizResponse);
  rpc GetQuiz(course.quiz.GetQuizRequest) returns (course.quiz.QuizResponse);
  rpc UpdateQuiz(course.quiz.UpdateQuizRequest) returns (course.quiz.QuizResponse);
  rpc DeleteQuiz(course.quiz.DeleteQuizRequest) returns (course.quiz.DeleteQuizResponse);
  rpc GetQuizzesByCourse(course.quiz.GetQuizzesByCourseRequest) returns (course.quiz.QuizzesResponse);

}

service EnrollmentService {
  // Enrollment CRUD
  // rpc CreateEnrollment(course.enrollment.CreateEnrollmentRequest) returns (course.enrollment.EnrollmentResponse);
  rpc GetEnrollment(course.enrollment.GetEnrollmentRequest) returns (course.enrollment.GetEnrollmentResponse);
  rpc GetEnrollmentDetails(course.enrollment.GetEnrollmentRequest) returns (course.enrollment.GetEnrollmentDetailsResponse);
  rpc UpdateEnrollment(course.enrollment.UpdateEnrollmentRequest) returns (course.enrollment.EnrollmentResponse);
  rpc DeleteEnrollment(course.enrollment.DeleteEnrollmentRequest) returns (course.enrollment.DeleteEnrollmentResponse);
  rpc CheckEnrollment(course.enrollment.CheckEnrollmentRequest) returns (course.enrollment.CheckEnrollmentResponse);
  rpc CheckCourseEnrollment(course.enrollment.CheckCourseEnrollmentRequest) returns (course.enrollment.CheckEnrollmentResponse);
  rpc GetEnrollmentsByUser(course.enrollment.GetEnrollmentsByUserRequest) returns (course.enrollment.EnrollmentsResponse);
  rpc GetEnrollmentsByCourse(course.enrollment.GetEnrollmentsByCourseRequest) returns (course.enrollment.EnrollmentsResponse);

  // Progress CRUD
  rpc CreateProgress(course.progress.CreateProgressRequest) returns (course.progress.ProgressResponse);
  rpc GetProgress(course.progress.GetProgressRequest) returns (course.progress.ProgressResponse);
  rpc UpdateLessonProgress(course.progress.UpdateLessonProgressRequest) returns (course.progress.UpdateLessonProgressResponse);
  rpc SubmitQuizProgress(course.progress.SubmitQuizAttemptRequest) returns (course.progress.SubmitQuizAttemptResponse);
  rpc DeleteProgress(course.progress.DeleteProgressRequest) returns (course.progress.DeleteProgressResponse);
  rpc GetProgressByEnrollment(course.progress.GetProgressByEnrollmentRequest) returns (course.progress.EnrollmentProgressResponse);

  // Review CRUD
  rpc SubmitCourseReview(course.review.SubmitCourseReviewRequest) returns (course.review.ReviewResponse);
  rpc GetReview(course.review.GetReviewRequest) returns (course.review.ReviewResponse);
  rpc GetReviewByEnrollment(course.review.GetReviewByEnrollmentRequest) returns (course.review.ReviewResponse);
  rpc UpdateReview(course.review.UpdateReviewRequest) returns (course.review.ReviewResponse);
  rpc DeleteReview(course.review.DeleteReviewRequest) returns (course.review.DeleteReviewResponse);
  rpc GetReviewsByCourse(course.review.GetReviewsByCourseRequest) returns (course.review.ReviewsResponse);

  // CERTIFICATE CRUD
  rpc GetCertificate(course.certificate.GetCertificateRequest) returns (course.certificate.CertificateResponse);
  rpc GetCertificateByEnrollment(course.certificate.GetCertificateByEnrollmentRequest) returns (course.certificate.CertificateResponse);
  rpc GetCertificatesByUser(course.certificate.GetCertificatesByUserRequest) returns (course.certificate.CertificatesResponse);
  rpc GenerateCertificate(course.certificate.GenerateCertificateRequest) returns (course.certificate.CertificateResponse);
  rpc DownloadCertificate(course.certificate.DownloadCertificateRequest) returns (stream course.certificate.CertificatePDFChunk);
}
