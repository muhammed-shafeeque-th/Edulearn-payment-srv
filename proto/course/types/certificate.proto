syntax = "proto3";

package course.certificate;

import "course/common.proto";


message CertificateData {
  string id = 1;
  string enrollment_id = 2;
  string user_id = 3;
  string course_id = 4;
  string course_title = 5;
  string student_name = 7;
  string completed_at = 6;
  string certificate_number = 8;
  string issue_date = 9;
  string created_at = 10;
  string updated_at = 11;
}

message GetCertificateRequest {
  string certificate_id = 1;
  string user_id = 2;
}

message GetCertificateByEnrollmentRequest {
  string enrollment_id = 1;
  string user_id = 2;
}

message GenerateCertificateRequest {
  string enrollment_id = 1;
  string user_id = 2;
  string student_name = 3;
}

message DownloadCertificateRequest {
  string certificate_id = 1;
  string user_id = 2;
}

message GetCertificatesByUserRequest {
  string user_id = 1;
  course.common.Pagination pagination = 2;
}

message CertificatePDFChunk {
  bytes data = 1;
}

message CertificatesData {
  repeated CertificateData certificates = 1;
  int32 total = 2;
}



message CertificateResponse {
  oneof result {
    CertificateData certificate = 1;
    course.common.Error error = 2;
  }
}
message CertificatesResponse {
  oneof result {
    CertificatesData certificates = 1;
    course.common.Error error = 2;
  }
}
